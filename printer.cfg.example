[include klipper-prusa-mk3s/mk3s/BTT_SKR_14.cfg]
[include klipper-prusa-mk3s/mk3s/steppers.cfg]
[include klipper-prusa-mk3s/mk3s/bed_mesh.cfg]
[include klipper-prusa-mk3s/mk3s/display.cfg]
[include klipper-prusa-mk3s/mk3s/tmc2209.cfg]
[include klipper-prusa-mk3s/macros.cfg]

[mcu]
serial: /dev/serial/by-id/usb-Klipper_lpc1769_09B0010DE284D795E0674762C32000F5-if00
baud: 250000
restart_method: command

[mcu rpi]
serial: /tmp/klipper_host_mcu

[printer]
kinematics: cartesian
max_accel: 2000
max_z_velocity: 20
max_velocity: 300
max_z_accel: 300

[extruder]
nozzle_diameter: 0.400 #0.600
filament_diameter: 1.750
sensor_type: PT1000
min_temp: 0
max_temp: 450
min_extrude_temp: 170
pressure_advance: 0.06

[z_tilt]
speed: 50
horizontal_move_z: 5
retries: 10
retry_tolerance: 0.000000

# ACCELEROMETER_QUERY CHIP=hotend
[adxl345 hotend]
cs_pin: rpi:None

# ACCELEROMETER_QUERY CHIP=bed
[adxl345 bed]
cs_pin: rpi:None

[resonance_tester]
# SHAPER_CALIBRATE AXIS=x
accel_chip_x: adxl345 hotend
# SHAPER_CALIBRATE AXIS=y
accel_chip_y: adxl345 bed
probe_points:
    123, 107, 20

[probe]
[input_shaper]
# ls -la /tmp/*csv

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [heater_bed]
#*# control = pid
#*# pid_kp = 57.006
#*# pid_ki = 0.854
#*# pid_kd = 951.288
#*#
#*# [extruder]
#*# control = pid
#*# pid_kp = 26.222
#*# pid_ki = 1.681
#*# pid_kd = 102.267
#*#
#*# [input_shaper]
#*# shaper_type_x = mzv
#*# shaper_freq_x = 59.2
#*# shaper_type_y = mzv
#*# shaper_freq_y = 48.2
#*#
#*# [probe]
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	  0.013996, -0.010727, 0.013579
#*# 	  0.011496, 0.001496, 0.023162
#*# 	  0.019829, 0.019829, 0.038162
#*# x_count = 3
#*# y_count = 3
#*# mesh_x_pps = 3
#*# mesh_y_pps = 3
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 24.0
#*# max_x = 228.0
#*# min_y = 6.0
#*# max_y = 210.0
